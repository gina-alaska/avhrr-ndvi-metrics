;this function accept band name vector, and float index, to return exec day

function findday, bandName, dayindex_flt

dayidx1=fix(dayindex_flt)

if dayidx1 EQ 0 then begin
  
  fract=dayindex_flt

endif else begin 
   
  fract = dayindex_flt mod dayidx1

endelse

if fract then begin

dayidx2=dayidx1+1

;band name format is yyyy_dddddd

day1= fix( strmid( bandname(dayidx1),5,3)) 

day2= fix( strmid( bandname(dayidx2),5,3))

x=fix( day1 +fract*(day2-day1) )

endif else begin

dayidx2=dayidx1

x=fix( strmid( bandname(dayidx1),5,3) )

endelse

return, x

end